<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Masterpiece | Nithya</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Great+Vibes&family=Montserrat:wght@300&display=swap" rel="stylesheet">
    
    <style>
        body { background: #000; overflow: hidden; height: 100vh; font-family: 'Montserrat', sans-serif; }
        
        /* --- 1. BACKGROUND FX --- */
        .nebula-bg {
            position: absolute; inset: 0;
            background: radial-gradient(circle at center, #1a0b2e 0%, #000 80%);
            z-index: 0;
        }
        
        .stars {
            position: absolute; inset: 0;
            background-image: url("https://www.transparenttextures.com/patterns/stardust.png");
            opacity: 0.3; animation: pulseStars 4s infinite alternate;
        }
        @keyframes pulseStars { 0% { opacity: 0.2; } 100% { opacity: 0.5; } }

        /* Rotating God Rays */
        .god-rays {
            position: absolute; top: 50%; left: 50%;
            width: 150vmax; height: 150vmax;
            background: conic-gradient(from 0deg, transparent 0%, rgba(212, 175, 55, 0.05) 10%, transparent 20%, rgba(212, 175, 55, 0.05) 30%, transparent 40%);
            transform: translate(-50%, -50%);
            animation: rotateRays 60s linear infinite;
            pointer-events: none; z-index: 1;
        }
        @keyframes rotateRays { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }

        /* --- 2. RISING EMBERS --- */
        .ember-container { position: absolute; inset: 0; z-index: 2; pointer-events: none; }
        .ember {
            position: absolute; bottom: -10px; width: 3px; height: 3px; background: #d4af37;
            border-radius: 50%; box-shadow: 0 0 10px #d4af37, 0 0 20px #ffaa00;
            opacity: 0;
        }

        /* --- 3. THE CENTERPIECE --- */
        .stage {
            position: relative; z-index: 10;
            display: flex; flex-col; align-items: center; justify-content: center;
            height: 100%; width: 100%;
        }

        /* The Halo Ring */
        .halo-ring {
            position: absolute; width: 600px; height: 600px;
            border: 1px dashed rgba(212, 175, 55, 0.3);
            border-radius: 50%;
            animation: spinHalo 30s linear infinite;
        }
        .halo-ring::before {
            content: ''; position: absolute; inset: -10px; border-radius: 50%;
            border: 1px dotted rgba(212, 175, 55, 0.1);
        }
        @keyframes spinHalo { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* The Photo Frame */
        .photo-card {
            position: relative;
            width: 85vw; max-width: 450px; aspect-ratio: 4/5;
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(212, 175, 55, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 50px rgba(0,0,0,0.8), 0 0 30px rgba(212, 175, 55, 0.1);
            animation: levitate 6s ease-in-out infinite; /* Autonomous Floating */
        }
        @keyframes levitate { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

        .photo-inner {
            position: relative; width: 100%; height: 100%; overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .photo-inner img {
            width: 100%; height: 100%; object-fit: cover;
            filter: contrast(110%) brightness(110%) sepia(10%);
            animation: breatheZoom 10s ease-in-out infinite alternate;
        }
        @keyframes breatheZoom { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }

        /* Passing Light Sheen */
        .sheen {
            position: absolute; top: 0; left: -150%; width: 50%; height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.3), transparent);
            transform: skewX(-25deg);
            animation: shinePass 5s infinite; pointer-events: none; z-index: 20;
        }
        @keyframes shinePass { 0%, 40% { left: -150%; } 100% { left: 250%; } }

        /* --- 4. TYPOGRAPHY --- */
        .text-wrapper {
            position: absolute; bottom: 5%; text-align: center; z-index: 30;
            width: 100%; text-shadow: 0 10px 30px black;
        }
        
        .crown-icon { font-size: 2rem; color: #d4af37; margin-bottom: 10px; display: block; animation: floatCrown 3s ease-in-out infinite; }
        @keyframes floatCrown { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }

        .title-bday {
            font-family: 'Great Vibes', cursive;
            font-size: 3.5rem; color: #fff; line-height: 1;
            opacity: 0; transform: translateY(20px); /* GSAP Target */
        }
        
        .title-name {
            font-family: 'Cinzel', serif;
            font-size: 4rem; font-weight: 700;
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text; color: transparent;
            letter-spacing: 0.1em; margin-top: 5px;
            opacity: 0; transform: scale(0.9); /* GSAP Target */
            filter: drop-shadow(0 0 15px rgba(212, 175, 55, 0.5));
        }

        /* Decoration Lines */
        .decor-line {
            width: 100px; height: 1px; background: linear-gradient(90deg, transparent, #d4af37, transparent);
            margin: 10px auto; opacity: 0;
        }

        /* --- 5. UTILS --- */
        .back-btn {
            position: fixed; top: 30px; left: 30px;
            color: rgba(255,255,255,0.4); font-size: 0.8rem; letter-spacing: 0.2em;
            text-transform: uppercase; cursor: pointer; transition: 0.3s; z-index: 100;
            border: 1px solid rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 30px;
        }
        .back-btn:hover { color: #fff; border-color: #d4af37; background: rgba(212, 175, 55, 0.1); }

    </style>
</head>
<body>

    <div class="back-btn" onclick="history.back()">← Gallery</div>

    <div class="nebula-bg"></div>
    <div class="stars"></div>
    <div class="god-rays"></div>
    <div class="ember-container" id="embers"></div>

    <div class="stage">
        
        <div class="halo-ring"></div>

        <div class="photo-card" id="card">
            <div class="absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-[#d4af37]"></div>
            <div class="absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-[#d4af37]"></div>
            <div class="absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-[#d4af37]"></div>
            <div class="absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-[#d4af37]"></div>

            <div class="photo-inner">
                <div class="sheen"></div>
                <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent z-10"></div>
                <img src="media/5.jpeg" alt="Masterpiece">
            </div>
        </div>

        <div class="text-wrapper">
            <span class="crown-icon">♛</span>
            <div class="title-bday">Happy Birthday</div>
            <div class="decor-line"></div>
            <div class="title-name">NITHYA</div>
        </div>

    </div>

    <script>
        // --- 1. RISING EMBERS GENERATOR ---
        const emberContainer = document.getElementById('embers');
        
        function createEmber() {
            const ember = document.createElement('div');
            ember.classList.add('ember');
            
            // Randomize position and animation properties
            const left = Math.random() * 100;
            const size = Math.random() * 3 + 2;
            const duration = Math.random() * 3 + 4; // 4 to 7 seconds
            
            ember.style.left = `${left}%`;
            ember.style.width = `${size}px`;
            ember.style.height = `${size}px`;
            
            // Animate using Web Animations API for better performance than pure CSS loop
            const anim = ember.animate([
                { transform: 'translateY(110vh)', opacity: 0 },
                { opacity: 1, offset: 0.2 },
                { opacity: 1, offset: 0.8 },
                { transform: 'translateY(-10vh)', opacity: 0 }
            ], {
                duration: duration * 1000,
                easing: 'linear',
                iterations: 1
            });

            emberContainer.appendChild(ember);

            // Remove after animation finishes
            anim.onfinish = () => ember.remove();
        }

        // Create embers continuously
        setInterval(createEmber, 300);


        // --- 2. ENTRANCE TIMELINE (GSAP) ---
        const tl = gsap.timeline();

        // Initial States
        gsap.set('#card', { scale: 0.8, opacity: 0, rotationY: 90 }); // Start sideways
        gsap.set('.halo-ring', { scale: 0, opacity: 0 });

        // Animation Sequence
        tl.to('.halo-ring', { duration: 1.5, scale: 1, opacity: 1, ease: "back.out(1.2)" })
          .to('#card', { duration: 2, scale: 1, opacity: 1, rotationY: 0, ease: "power3.out" }, "-=1")
          .to('.title-bday', { duration: 1, y: 0, opacity: 1, ease: "power2.out" }, "-=0.5")
          .to('.decor-line', { duration: 1, width: 100, opacity: 1 }, "-=0.8")
          .to('.title-name', { duration: 1.5, scale: 1, opacity: 1, ease: "elastic.out(1, 0.5)" }, "-=0.8");

    </script>
</body>
</html>
